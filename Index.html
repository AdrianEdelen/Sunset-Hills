<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Sunset Hills</title>
	<link href="img\favicon.png" rel="icon">
	<link href="img\apple-touch-icon.png" rel="apple-touch-icon">
	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	<link href="Content/prism.css" rel="stylesheet" />
	<link href="Content/Style.css" rel="stylesheet" />
</head>

<body>
	<!-- Navigation -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
		<div class="container">
			<a class="navbar-brand" href="/Index.html">Sunset Hills</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item">
						<a class="nav-link" href="https://github.com/AdrianEdelen/Sunset-Hills" target="_blank">Github</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="https://adrianedelen.com" target="_blank">Portfolio</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- Page Content -->
	<div class="container text-white">
		<div class="row">
			<div class="col-lg-12 text-center">
				<h1 class="mt-5">Sunset Hills</h1>
				
				<ul class="list-unstyled">
					<li>See what buildings can see the sunset!</li>
					<li>Made using vanilla js as a proof of concept.</li>
				</ul>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12 text-center">

				<p class="lead">Fill each input box 1-10 and click do it, the golden buildings are the ones who can see the sun! (the sun sets in the west/left)</p>
			</div>
		</div>
		<div class="row">

			<div class="card text-center">
				<div class="card-body">
					<div class="col text-center">
						<hr />
						<div class="row text-center">
							<div class="col">
								<input type="number" id="building1" placeholder="Building 1" class="text-center numbersOnly numberSize" min="1" max="10" onkeyup="imposeMinMax(this)"/>
								<input type="number" id="building2" placeholder="Building 2" class="text-center numbersOnly numberSize" min="1" max="10" onkeyup="imposeMinMax(this)" />
								<input type="number" id="building3" placeholder="Building 3" class="text-center numbersOnly numberSize" min="1" max="10" onkeyup="imposeMinMax(this)" />
							</div>
						</div>
						<div class="row text-center">
							<div class="col">
								<input type="number" id="building4" placeholder="Building 4" class="text-center numbersOnly numberSize" min="1" max="10" onkeyup="imposeMinMax(this)" />
								<input type="number" id="building5" placeholder="Building 5" class="text-center numbersOnly numberSize" min="1" max="10" onkeyup="imposeMinMax(this)" />
								<input type="number" id="building6" placeholder="Building 6" class="text-center numbersOnly numberSize" min="1" max="10" onkeyup="imposeMinMax(this)" />
							</div>
						</div>


						<hr />

						<div class="btn btn-secondary" id="calculate">DO IT!</div>
						<hr />
						<span id="result"></span>
					</div>
					<div class="row">
						<div class="col text-center">
							<div class="progress progress-bar-vertical">
								<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 0%;" id="prog6">

								</div>
							</div>
							<div class="progress progress-bar-vertical">
								<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 0%;" id="prog5">

								</div>
							</div>
							<div class="progress progress-bar-vertical">
								<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 0%;" id="prog4">

								</div>
							</div>
							<div class="progress progress-bar-vertical">
								<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 0%;" id="prog3">

								</div>
							</div>
							<div class="progress progress-bar-vertical">
								<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 0%;" id="prog2">

								</div>
							</div>
							<div class="progress progress-bar-vertical">
								<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 0%;" id="prog1">

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12 text-center">
				<h1 class="mt-5">Behind The Scenes</h1>
				<p class="lead">SunsetHills.js</p>
			</div>
		</div>
		<div class="row">
			<div class="col text-center">
				<pre>
					<code class="language-js">
				
// event listener for the do it button
document.getElementById("calculate").addEventListener("click", () => {
	//declaring vars
	let b1 = parseInt(document.getElementById("building1").value);
	let b2 = parseInt(document.getElementById("building2").value);
	let b3 = parseInt(document.getElementById("building3").value);
	let b4 = parseInt(document.getElementById("building4").value);
	let b5 = parseInt(document.getElementById("building5").value);
	let b6 = parseInt(document.getElementById("building6").value);
	//putting the vars in an array to work with
	let bldgArr = [b1, b2, b3, b4, b5, b6];
	// reset any empty inputs to 0
	resetToZero(b1, b2, b3, b4, b5, b6);
	//clear the colors of from last time
	clean(bldgArr);
	//iterate through the loop and find each building that can see the sun and store it in an array
	let bigArr = new Array();
	let bigTemp = -1;
	for (let i = 0; i < bldgArr.length; i++) {
		if (bldgArr[i] > bigTemp) {
			bigTemp = bldgArr[i];
			bigArr.push("prog" + (i + 1));
			console.log(i);
		}
	}
	//apply the yellow color to the buildings that can see the sun
	for (let i = 0; i < bigArr.length; i++) {
		document.getElementById(bigArr[i]).classList.add("bg-warning");
	}
	progFill();
	//this takes the user inputted value and sets a percentage to fill each bar
	function progFill() {
		for (let i = 0; i <= bldgArr[0] * 10; i++) {
			let prog = 'prog1';
			sleep1(i, prog);
		}
		for (let j = 0; j <= bldgArr[1] * 10; j++) {
			let prog = 'prog2';
			sleep1(j, prog);
		}
		for (let k = 0; k <= bldgArr[2] * 10; k++) {
			let prog = 'prog3';
			sleep1(k, prog);
		}
		for (let l = 0; l <= bldgArr[3] * 10; l++) {
			let prog = 'prog4';
			sleep1(l, prog);
		}
		for (let z = 0; z <= bldgArr[4] * 10; z++) {
			let prog = 'prog5';
			sleep1(z, prog);
		}
		for (let x = 0; x <= bldgArr[5] * 10; x++) {
			let prog = 'prog6';
			sleep1(x, prog);
		}
	}
	//this function is called in the previous loops, this fills the bars 1% at a time
	//with a 10ms delay between each 'tick'
	function sleep1(i, prog) {
		setTimeout(function () {
			document.getElementById(prog).style.height = i + "%";
		}, 10 * i)
	}
})
//verify user input
document.querySelectorAll(".numbersOnly").forEach(a => {
	a.addEventListener("keydown", (evt) => {
		let keyChar = (evt.which) ? evt.which : evt.keyCode

		if (keyChar >= 48 && keyChar <= 57 ||
			keyChar >= 96 && keyChar <= 105 ||
			keyChar == 08 ||
			keyChar == 37 ||
			keyChar == 39) {
			return true;
		} else {
			evt.preventDefault();
			return false;
		}
	})
})
//clean resets the coloring of the buildings
function clean(bldgArr) {
	for (i = 0; i < bldgArr.length; i++) {
		let bldg = document.getElementById("prog" + (i + 1))
		bldg.classList.remove("bg-warning");

	}

}
//clears text out of the text boxes on click
function cleanText(el) {
	document.getElementById(el).value = "";
}
document.getElementById("building1").addEventListener("click", () => {
	cleanText("building1");
})
document.getElementById("building2").addEventListener("click", () => {
	cleanText("building2");
})
document.getElementById("building3").addEventListener("click", () => {
	cleanText("building3");
})
document.getElementById("building4").addEventListener("click", () => {
	cleanText("building4");
})
document.getElementById("building5").addEventListener("click", () => {
	cleanText("building5");
})
document.getElementById("building6").addEventListener("click", () => {
	cleanText("building6");
})
// forces the correct range of numbers to be input
function imposeMinMax(el) {
	if (el.value != "") {
		if (parseInt(el.value) < parseInt(el.min)) {
			el.value = el.min;
		}
		if (parseInt(el.value) > parseInt(el.max)) {
			el.value = el.max;
		}
	}
}
//brings the height to zero if there is no input or invalid input (NaN)
function resetToZero(b1, b2, b3, b4, b5, b6) {
	let arr = new Array();
	arr = b1, b2, b3, b4, b5, b6;
	for (let i = 0; i < 6; i++) {
		if (isNaN(arr[i])) {
			document.getElementById("prog" + (i + 1)).style.height = "0%";
		}
	}
}
				
					</code>
                </pre>
			</div>
		</div>
	</div>



	<!-- Bootstrap core JavaScript -->
	<script src="//code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="//cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="//stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
	<script src="Scripts/Custom.js"></script>
	<script src="Scripts/prism.js"></script>
</body>

</html>
